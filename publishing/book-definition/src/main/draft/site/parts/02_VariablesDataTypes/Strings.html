<!DOCTYPE html>
<html>
<head>

<title>The Groovy 2 Tutorial - Strings</title> 
<meta name="The Groovy 2 Tutorial" content="text/html; charset=utf-8" />
<meta name="description" content="Strings are pieces of text." />

<meta name="author" content="Duncan Dickinson" />

<link rel="icon" href="../../resources/images/gico.png">
<link rel="license" href="../../Licence.html">

<script type="text/javascript" src="../../resources/js/analytics.js">
<link href='http://fonts.googleapis.com/css?family=Oxygen+Mono|Oxygen' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">

</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>
	hljs.initHighlightingOnLoad();
</script>
<link rel='stylesheet' type='text/css' href='../../resources/styles/site.css'>
</head>
<body>
  <header>
    <h1>The Groovy 2 Tutorial</h1>
  </header>
  <div class="content leftmenu">
    <div class="colright">
      <div class="col-article-wrap">
        <div class="col-article">
<article>
  <header>
    <h1 itemprop="headline">Strings</h1>
    <nav class='part-nav'>
        <a href='../../parts/02_VariablesDataTypes/Numbers.html' rel=prev>&laquo; Previous</a>&nbsp;&bull;&nbsp;<a href='../../parts/02_VariablesDataTypes/Collections.html' rel=next>Next &raquo;</a>
    </nav>
  </header>
  <div class='article-content'>
  <aside>Strings are pieces of text.</aside>
  <p>There are a two main ways in which you can declare a string in Groovy: using single or double quotes</p>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Method</th>
	<th style="text-align:left;">Usage</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Single quotes (<code>'...'</code>)</td>
	<td style="text-align:left;">these are fixed strings and tell Groovy that the string is as we&#8217;ve written it (e.g. <code>def pet = 'dog'</code>).</td>
</tr>
<tr>
	<td style="text-align:left;">Double quotes (<code>&quot;...&quot;</code>)</td>
	<td style="text-align:left;">these are called GStrings and let us interpolate (insert) variables into our string. (e.g. <code>def petDescription = &quot;My pet is a $pet&quot;</code>)</td>
</tr>
<tr>
	<td style="text-align:left;">Three single quotes (<code>'''...'''</code>)</td>
	<td style="text-align:left;">a multi-line fixed string</td>
</tr>
<tr>
	<td style="text-align:left;">Three double quotes (<code>&quot;&quot;&quot;...&quot;&quot;&quot;</code>)</td>
	<td style="text-align:left;">a multi-line GString </td>
</tr>
</tbody>
</table>

<p>Here&#8217;s a quick example of a fixed string and a GString in action:</p>

<pre><code class="groovy">def pet = 'dog'
def petDescription = &quot;My pet is a $pet&quot;
println petDescription
</code></pre>

<h1>Escape sequences</h1>

<p>Strings can contain escape sequences, allowing you to use non-printable characters in your text.</p>

<table>
<caption id="table:escapesequences">Table: escape sequences</caption>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Sequence</th>
	<th style="text-align:left;">Character</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">\n</td>
	<td style="text-align:left;">line feed</td>
</tr>
<tr>
	<td style="text-align:left;">\f</td>
	<td style="text-align:left;">form feed</td>
</tr>
<tr>
	<td style="text-align:left;">\r</td>
	<td style="text-align:left;">carriage return</td>
</tr>
<tr>
	<td style="text-align:left;">\t</td>
	<td style="text-align:left;">horizontal tab</td>
</tr>
<tr>
	<td style="text-align:left;">\&#8217;</td>
	<td style="text-align:left;">single quote</td>
</tr>
<tr>
	<td style="text-align:left;">\&quot;</td>
	<td style="text-align:left;">double quote</td>
</tr>
<tr>
	<td style="text-align:left;">\\</td>
	<td style="text-align:left;">backslash</td>
</tr>
</tbody>
</table>

<p>The line feed (<code>\\n</code>) is often used to move to a new line:</p>

<pre><code class="groovy">print 'Hi \n there\n'
</code></pre>

<p>You&#8217;ll notice the use of <code>print</code> in the example above - the final <code>\\n</code> performs the same as <code>println</code> and moves to a new line.</p>

<p>The form feed (<code>\\f</code>) and carriage return (<code>\\r</code>) aren&#8217;t often used. Form feed indicates a new page and carriage return goes back to the start of the line.</p>

<p>The horizontal tab (<code>\\t</code>) is essentially the same as the <code>tab</code> key on your keyboard. It&#8217;s useful for formatting things like tables of information:</p>

<pre><code class="groovy">println 'name\tage\tcolour'
println 'Sam\t12\tblue'
println 'Alice\t8\tgreen'
</code></pre>

<p>If you wish to use a quote within your string that matches the quote type you&#8217;re using to surround your string then you need to escape the internal quote using the <code>\</code> character. In the code below you can see the quotes being escaped (<code>\'</code> and <code>\&quot;</code>):</p>

<pre><code class="groovy">println 'That\'s mine'
println &quot;I said \&quot;NO!\&quot;&quot;
</code></pre>

<p>As the backslash (<code>\</code>) is used to escape characters, it needs an escape of its own. In order to use a backslash in a string you need to double it up (<code>\\</code>) as in the example below:</p>

<pre><code class="groovy">println 'c:\\documents\\report.doc'
</code></pre>

<h1>GStrings</h1>

<p>In order to have Groovy interpolate the value of a variable we use the <code>$</code> symbol in front of the variable name - as you can see with <code>$pet</code> below:</p>

<pre><code class="groovy">def pet = 'dog'  
println &quot;I own a $pet&quot;
</code></pre>

<p>This can be handy if you have a number of variables that you&#8217;d like to use in a string:</p>

<pre><code class="groovy">def name = 'Sally'
def hobby = 'surfing'
println &quot;Did you know that $name likes $hobby?&quot;
</code></pre>

<blockquote>
<p>This helps escape the use of the addition operator (<code>+</code>) to concatenate (join) strings: 
<code>println 'hello ' + 'world</code> 
You&#8217;ll see this in a lot of Java code and I, for one, am pleased to see that Groovy lets us pretend this never happened.</p>
</blockquote>

<p>GStrings also let you interpolate more complicated expressions into a string by using <code>${...}</code>. In the following example we perform a calculation within the GString:</p>

<pre><code class="groovy">println &quot;10 to the power of 6 is ${10**6}&quot;
</code></pre>

<p>We can also access information about a variable in the same manner:</p>

<pre><code class="groovy">def word = 'Supercalifragilisticexpialidocious'
println &quot;$word has ${word.length()} letters&quot;
</code></pre>

<blockquote>
<p>The code <code>word.length()</code> calls the <code>length</code> method available on a string - we&#8217;ll cover what this means shortly.</p>
</blockquote>

<h1>Multiline Strings</h1>

<p>The examples given so far use short strings but longer strings would be cumbersome to type using lots of new lines. Instead, Groovy provides multiline strings - the code below declares a multiline fixed string:</p>

<pre><code class="groovy">def poem = '''But the man from Snowy River let the pony have his head,
And he swung his stockwhip round and gave a cheer,
And he raced him down the mountain like a torrent down its bed,
While the others stood and watched in very fear.'''

print poem
</code></pre>

<p>If you run the code above you&#8217;ll see that new lines are used at the correct points in the display. You can modify this slightly and place a backslash (<code>\</code>) at the start of the string - using statement continuation for readability:</p>

<pre><code class="groovy">def poem = '''\
But the man from Snowy River let the pony have his head,
And he swung his stockwhip round and gave a cheer,
And he raced him down the mountain like a torrent down its bed,
While the others stood and watched in very fear.'''

print poem
</code></pre>

<blockquote>
<p>Without the backslash the code above would cause a blank newline to be printed.</p>
</blockquote>

<p>GStrings can also be defined using the multiline format:</p>

<pre><code class="groovy">def animal = 'velociraptor'

println &quot;&quot;&quot;But the man from Snowy River let the ${animal} have his head,
And he swung his stockwhip round and gave a cheer,
And he raced him down the mountain like a torrent down its bed,
While the others stood and watched in very fear.&quot;&quot;&quot;
</code></pre>

<h1>Building Strings</h1>

<p>Working with basic strings is fine but if you need to build up a large piece of text throughout a program they can become very inefficient. We&#8217;ll look into this in the tutorial on Operators.</p>

<h1>Useful Methods</h1>

<p>Strings (text) are important aspects to human-based systems so most programming languages provide a number of methods for modifying, search, slicing and dicing strings. Groovy provides a number of helpful methods you can use with strings and we&#8217;ll look at just a few of them here:</p>

<ul>
<li><code>length()</code> : returns the number of characters in a string</li>
<li><code>reverse()</code>: returns the mirrored version of the string</li>
<li><code>toUpperCase()</code> and <code>toLowerCase()</code>: returns the string with all of the characters converted to upper or lower case.</li>
</ul>

<pre><code class="groovy">def str = 'Hello, World'
println str.length()
println str.reverse()
println str.toUpperCase()
println str.toLowerCase()
</code></pre>

<p>The <code>trim()</code> method returns the string with any leading and trailing whitespace removed:</p>

<pre><code class="groovy">def str = '  Hello, World  '
println str.trim()
</code></pre>

<p>The <code>substring</code> method returns a subsection of a string and can be used in two possible ways:</p>

<ul>
<li>Provide a start index (e.g. <code>substring(7)</code>) to get the subsection that includes that index (i.e. the 7th character in the string) through to the end of the string</li>
<li>Provide a start and an end index (e.g. <code>substring(7, 9)</code>) to get the subsection that includes that start index through to the end index of the string</li>
</ul>

<pre><code class="groovy">def str = 'Hello, World'
println str.substring(7)
println str.substring(7,9)
</code></pre>

<p>A number of methods are provided to help you with basic searching:</p>

<ul>
<li>The <code>indexOf</code> and <code>lastIndexOf</code> methods return the index (location) of the specified character in the string</li>
<li><code>contains</code>, <code>startsWith</code>, and <code>endsWith</code> return <code>true</code> or <code>false</code> if the supplied parameter is located within the string</li>
</ul>

<pre><code class="groovy">def str = 'Hello, World'

//These methods return the index of the requested character
println str.indexOf(',')
println str.lastIndexOf('o')

//These methods check if the string contains another string
println str.contains('World')
println str.startsWith('He')
println str.endsWith('rld')
</code></pre>

<p>Lastly, <code>replace</code> lets us provide a string that we want to change to a new value:</p>

<pre><code class="groovy">def str = 'Hello, World'

println str.replace('World', 'Fred')
</code></pre>

<p>Regular expressions provide a comprehensive approach to searching and manipulating strings and are covered in a an up-coming chapter. Additionally, the tutorial on Operators will look into this in more depth.</p>

  </div>
  <footer>
    <nav class='part-nav'>
        <a href='../../parts/02_VariablesDataTypes/Numbers.html' rel=prev>&laquo; Previous</a>&nbsp;&bull;&nbsp;<a href='../../parts/02_VariablesDataTypes/Collections.html' rel=next>Next &raquo;</a>
    </nav>
  </footer>
</article></div>
      </div>
      <div class="col-nav">
        <nav class='article-nav'>
  <header>
  
  <h1>Contents</h1>
  
  </header>
  <ul class='toc-part'>
    <li><a href='../../index.html'>Book home</a>
    <li><a href='index.html'>Variables</a>
    <ul>
    
      <li><a href='Variables.html'>Declaring Variables</a></li>
    
      <li><a href='Objects.html'>Objects</a></li>
    
      <li><a href='Booleans.html'>Booleans</a></li>
    
      <li><a href='Numbers.html'>Numbers</a></li>
    
      <li><a href='Strings.html'>Strings</a></li>
    
      <li><a href='Collections.html'>Collections</a></li>
    
      <li><a href='Arrays.html'>Arrays</a></li>
    
      <li><a href='Ranges.html'>Ranges</a></li>
    
      <li><a href='RegularExpressions.html'>Regular Expressions</a></li>
    
      <li><a href='DataTypes.html'>Data types</a></li>
    
    </ul></li>
  </ul>
</nav>
        <nav class='external-nav'>
          <header>
            <h1>Groovy links</h1>
          </header>
          <ul>
            <li><a href='http://groovy-lang.org/index.html' target='_blank'>Groovy homepage</a></li>
            <li><a href='http://docs.groovy-lang.org/latest/html/gapi/' target='_blank'>GAPI</a></li>
            <li><a href='http://docs.groovy-lang.org/latest/html/api/' target='_blank'>GDK</a></li>
            <li><a href='http://groovy-lang.org/documentation.html' target='_blank'>Groovy Documentation</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
  <footer>
    <p>
      &copy; 2014-2015 <a href='http://www.duncan.dickinson.name' target='_blank'>Duncan Dickinson</a>. See the <a
        href='../../Licence.html'>Licence page</a> for more information
    </p>
    <p>
    Updates regarding this book are posted to <a href="http://news.groovy-tutorial.org">the news site</a>
    </p>
  </footer>
</body>
</html>